<h3>Post</h3>
<p-card>
    <p-table [value]="postCounts" dataKey="userId">
        <ng-template pTemplate="header">
            <tr>
                <th>User ID</th>
                <th>No. of Posts</th>
                <th>View Post</th>
            </tr>
        </ng-template>
        <ng-template let-post pTemplate="body" let-expanded="expanded" let-index="rowIndex">
            <tr>
                <td> {{ post.userId }} </td>
                <td> {{ post.postList.length }} </td>
                <td> <p-button label="View Post Details" [pRowToggler]="post" ></p-button> </td>
            </tr>
        </ng-template>
        <ng-template let-post pTemplate="rowexpansion">
            <tr>
                <td colspan="7">
                  <div class="p-p-3">
                    <p-table [value]="post.postList" dataKey="postList.id" >
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Post Title</th>
                                <th>Post Body</th>
                                <th>Post View</th>
                            </tr>
                        </ng-template>
                        <ng-template let-postlist pTemplate="body" let-expanded="expanded" let-index="rowIndex">
                            <tr>
                                <td>{{ postlist.title }}</td>
                                <td> {{ postlist.body }} </td>
                                <td> <p-button label="View Post" (onClick)="viewPost(postlist.id)" ></p-button> </td>
                            </tr>
                        </ng-template>
                    </p-table>
                  </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</p-card>
<p-toast key="errorMessage" position="top-left"></p-toast>

